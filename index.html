<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Speed Studio — Coming 2026</title>
  <meta name="description" content="Speed Studio — the cinematic vehicle customisation arm of SpeedSafeDash. Coming 2026." />
  <!-- Allow hosted counter API from a single HTML file via CSP meta -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' https://api.countapi.xyz; img-src 'self' data:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; script-src 'self';" />
  <!-- One-file build: all styles and scripts inline -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&family=Clash+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{ --ink:#f4f7ff; --muted:#a8c0ff; --blue:#3a8fff; --blue2:#00e0ff; }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;overflow:hidden;background:#020409}

    /* Cinematic background */
    body{background:radial-gradient(1200px 600px at 80% -10%,rgba(0,209,255,.10),transparent),radial-gradient(1000px 600px at 0% 0%,rgba(43,130,255,.12),transparent),radial-gradient(circle at 50% 20%, #0b1120 0%, #020409 60%, #000000 100%);} 
    .vignette{position:fixed;inset:-10%;pointer-events:none;z-index:0;background:radial-gradient(closest-side,transparent 40%, rgba(0,0,0,.35) 100%);} 
    .halo,.glow{position:fixed;inset:-30% -30% auto -30%;height:80vh;pointer-events:none;filter:blur(30px);opacity:.28;z-index:0}
    .halo{background:radial-gradient(60% 60% at 30% 10%, rgba(0,224,255,.25), transparent 70%);animation:float1 18s ease-in-out infinite alternate}
    .glow{background:radial-gradient(60% 60% at 80% 0%, rgba(58,143,255,.20), transparent 70%);animation:float2 22s ease-in-out infinite alternate}
    @keyframes float1{from{transform:translateY(-2%) translateX(0)}to{transform:translateY(6%) translateX(2%)}}
    @keyframes float2{from{transform:translateY(0) translateX(0)}to{transform:translateY(8%) translateX(-3%)}}

    .hero{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center}
    #stars{position:absolute;inset:0;z-index:1}

    #content{position:relative;z-index:2;opacity:1;transform:none}

    .headline{font-family:"Clash Display",Inter,system-ui,sans-serif;font-weight:800;font-size:clamp(2.8rem,6vw,5.5rem);line-height:1.1;margin-bottom:1rem}
    .headline .grad{background:linear-gradient(90deg,var(--blue),var(--blue2),var(--blue));-webkit-background-clip:text;background-clip:text;color:transparent;background-size:200% 100%;animation:shine 6s linear infinite}
    @keyframes shine{0%{background-position:0% 50%}100%{background-position:200% 50%}}

    .sub{font-size:1.1rem;color:var(--muted);max-width:60ch;margin:auto;opacity:.95}

    .contact{margin-top:2rem;display:flex;gap:1rem;justify-content:center}
    .btn{padding:0.9rem 1.5rem;border-radius:14px;border:1px solid rgba(255,255,255,0.12);background:rgba(255,255,255,0.035);color:var(--ink);font-weight:600;text-decoration:none;backdrop-filter:blur(10px);transition:transform .2s ease, box-shadow .3s ease, background .3s ease}
    .btn:hover{transform:translateY(-2px);box-shadow:0 0 32px rgba(43,130,255,.25);background:linear-gradient(90deg,var(--blue),var(--blue2))}
    .btn:active{transform:translateY(0)}

    .visits{margin-top:1rem;color:var(--muted);font-size:.95rem;min-height:1.25rem}
  </style>
</head>
<body class="loaded">
  <div class="vignette" aria-hidden="true"></div>
  <div class="halo" aria-hidden="true"></div>
  <div class="glow" aria-hidden="true"></div>

  <section class="hero">
    <canvas id="stars" aria-hidden="true"></canvas>
    <div id="content">
      <h1 class="headline">Speed Studio<br><span class="grad">Coming 2026</span></h1>
      <p class="sub">A cinematic automotive experience from SpeedSafeDash.</p>
      <div class="contact">
        <a class="btn" href="mailto:hello@speedsafe.au">hello@speedsafe.au</a>
        <a class="btn" href="tel:+61435088018">0435 088 018</a>
      </div>
      <div class="visits" id="visitText" aria-live="polite"></div>
    </div>
  </section>

  <script>
    // ===== Background starfield + meteors =====
    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d');
    const content = document.getElementById('content');

    let W, H, starsNear = [], starsFar = [], meteors = [];
    function resize(){
      W = canvas.width = innerWidth; H = canvas.height = innerHeight;
      const nFar = Math.max(140, Math.floor(W*H/18000));
      const nNear = Math.max(80, Math.floor(W*H/28000));
      starsFar = Array.from({length:nFar}, ()=>({x:Math.random()*W, y:Math.random()*H, s:Math.random()*1.5+0.3, spd:0.15+Math.random()*0.25, phase:Math.random()*Math.PI*2}));
      starsNear = Array.from({length:nNear},()=>({x:Math.random()*W, y:Math.random()*H, s:Math.random()*2.5+0.8, spd:0.35+Math.random()*0.6, phase:Math.random()*Math.PI*2}));
    }
    addEventListener('resize', resize); resize();

    let lastMeteorTime = 0;
    function spawnMeteor(){
      const now = performance.now();
      if(now - lastMeteorTime < 4500 + Math.random()*4000) return;
      lastMeteorTime = now;
      const y = Math.random()*H*0.4 + 20;
      meteors.push({x:-50, y, vx:4+Math.random()*3, vy:1+Math.random()*0.6, life:1});
    }

    function drawStars(arr, colorBase){
      for(const p of arr){
        p.y += p.spd; if(p.y>H) {p.y = -2; p.x = Math.random()*W}
        const tw = 0.5 + 0.5 * Math.sin(p.phase += 0.02);
        ctx.globalAlpha = 0.35 + tw*0.55;
        ctx.fillStyle = colorBase;
        ctx.fillRect(p.x, p.y, p.s, p.s);
      }
    }

    function drawMeteors(){
      for(const m of meteors){
        m.x += m.vx; m.y += m.vy; m.life *= 0.985;
        ctx.globalAlpha = Math.max(0, m.life);
        const grad = ctx.createLinearGradient(m.x-60, m.y-20, m.x, m.y);
        grad.addColorStop(0, 'rgba(0,224,255,0)');
        grad.addColorStop(1, 'rgba(168,192,255,0.9)');
        ctx.strokeStyle = grad; ctx.lineWidth = 2; ctx.beginPath(); ctx.moveTo(m.x-60, m.y-20); ctx.lineTo(m.x, m.y); ctx.stroke();
      }
      meteors = meteors.filter(m=> m.x < W+80 && m.y < H+40 && m.life > 0.05);
    }

    window.addEventListener('mousemove', (e)=>{
      const rx = (e.clientX/W - .5) * 6; const ty = (e.clientY/H - .5) * -6;
      content.style.transform = `translateZ(0) rotateX(${ty}deg) rotateY(${rx}deg)`;
    });

    function loop(){
      ctx.clearRect(0,0,W,H);
      drawStars(starsFar, '#879bd6');
      drawStars(starsNear, '#a8c0ff');
      spawnMeteor();
      drawMeteors();
      requestAnimationFrame(loop);
    }
    loop();

    // ===== Global counter: try same-origin proxy, then CountAPI; hide if both fail =====
    const visitText = document.getElementById('visitText');
    const ord = (n)=>{const s=["th","st","nd","rd"], v=n%100; return n + (s[(v-20)%10]||s[v]||s[0]);};

    (async function globalCounter(){
      const NS = 'studio.speedsafe.au';
      const KEY = 'coming2026';
      try {
        // 1) Try same-origin proxy path if you later add a rewrite on Vercel
        let res = await fetch(`/counter/hit/${NS}/${KEY}`, { cache: 'no-store' });
        if(!res.ok) {
          // 2) Fallback to direct CountAPI
          res = await fetch(`https://api.countapi.xyz/hit/${NS}/${KEY}`);
        }
        if(!res.ok) return; // hide silently
        const data = await res.json();
        if(data && typeof data.value === 'number'){
          visitText.textContent = `You are the ${ord(data.value)} person to view this page.`;
        }
      } catch (_) {
        // Fail silently — keep empty
      }
    })();
  </script>
</body>
</html>
